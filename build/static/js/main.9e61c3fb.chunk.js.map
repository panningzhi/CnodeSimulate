{"version":3,"sources":["components/Header/Index.module.scss","components/Topics/Index.module.scss","views/Home/Index.module.scss","views/Profile/Index.module.scss","components/ProfilePanel/Index.module.scss","components/OtherTopic/Index.module.scss","components/RecentReply/Index.module.scss","views/Topic/Index.module.scss","components/Reply/Index.module.scss","assets/image/cnodejs.svg","assets/image/thumbs-up.svg","components/Header/Index.js","utils/request.js","utils/tab.js","components/Topics/Index.js","views/Home/Index.js","utils/api.js","utils/eventProxy.js","components/ProfilePanel/Index.js","components/OtherTopic/Index.js","components/RecentReply/Index.js","views/Profile/Index.js","components/Reply/Index.js","views/Topic/Index.js","App.js","index.js"],"names":["module","exports","header","search-btn","topic","count","title","time","home","user","panel","inside-divider","avatar","divider","content","left","info","right","reply","thumbs","__webpack_require__","p","Header","state","visible","handleOk","_this","setState","showModal","search","document","getElementById","value","window","open","onKeyPress","e","keyCode","which","react_default","a","createElement","styleName","href","src","require","alt","onSubmit","this","className","autoFocus","id","type","autoComplete","placeholder","οnkeypress","Event","onClick","modal","onOk","onCancel","target","rel","icon","theme","twoToneColor","Component","CSSModules","style","error","message","service","axios","create","baseURL","timeout","interceptors","request","use","config","err","Promise","reject","response","data","tab","good","name","color","job","ask","share","Topics","props","list","length","skeleton","active","items","map","item","author","loginname","key","Link","to","avatar_url","reply_count","visit_count","tag","moment","last_reply_at","startOf","fromNow","TabPane","Tabs","Home","Object","classCallCheck","_super","call","scrollMethod","sumH","body","scrollHeight","documentElement","clientHeight","scrollTop","getTopics","tabChanged","store","limit","page","addEventListener","removeEventListener","_this2","url","method","params","then","res","spin","spinning","tabs","defaultActiveKey","onChange","Topics_Index","eventProxy","onObj","oneObj","on","fn","undefined","push","one","off","trigger","args","arguments","concat","Array","prototype","slice","i","apply","ProfilePanel","fetchData","nextProps","getUserByName","score","githubUsername","create_at","OtherTopic","isUnmounted","_this3","recent_topics","temp","simple","defaultProps","RecentReply","recent_replies","Profile","match","ProfilePanel_Index","OtherTopic_Index","RecentReply_Index","html","__html","index","getThumbs","ups","dangerouslySetInnerHTML","getHTML","unshift","Topic","getTopicById","objectSpread","Reply_Index","replies","App","Index","HashRouter","Route","exact","path","component","render","Redirect","locale","ReactDOM","config_provider","zhCN","src_App_0"],"mappings":"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","file":"static/js/main.9e61c3fb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Index_header__3MYWj\",\"search-btn\":\"Index_search-btn__1H-VS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topic\":\"Index_topic__3FooA\",\"count\":\"Index_count__39qmL\",\"title\":\"Index_title__13tQ6\",\"time\":\"Index_time__3GwV9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Index_home__3UyFA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Index_user__2taYZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Index_panel__2FBzm\",\"user\":\"Index_user__80xoH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Index_panel__iQ5_F\",\"time\":\"Index_time__1bcag\",\"inside-divider\":\"Index_inside-divider__3gBn1\",\"avatar\":\"Index_avatar__3xHOD\",\"divider\":\"Index_divider__3xIDt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Index_panel__2ecGN\",\"time\":\"Index_time__1WIMC\",\"inside-divider\":\"Index_inside-divider__1znSY\",\"avatar\":\"Index_avatar__34OaS\",\"divider\":\"Index_divider__3PEyX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topic\":\"Index_topic__OQ-jS\",\"title\":\"Index_title__3sTDP\",\"content\":\"Index_content__1Mmd4\",\"left\":\"Index_left__UXxiz\",\"info\":\"Index_info__l7Jq6\",\"right\":\"Index_right__2tco0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reply\":\"Index_reply__F7pPj\",\"info\":\"Index_info__1E4Uz\",\"thumbs\":\"Index_thumbs__1NlW4\"};","module.exports = __webpack_public_path__ + \"static/media/cnodejs.e2b40b75.svg\";","module.exports = __webpack_public_path__ + \"static/media/thumbs-up.b296ff53.svg\";","import React, { Component } from 'react'\r\nimport style from './Index.module.scss'\r\nimport CSSModules from 'react-css-modules'\r\nimport { Modal, Icon } from 'antd'\r\n/**\r\n * 网站的顶部Header组件\r\n */\r\nclass Header extends Component {\r\n  /**\r\n   * 给state设置默认值\r\n   * P.S. 另外一种设置方法见ProfilePanel/Index.js文件\r\n   */\r\n  state = { visible: false }\r\n\r\n\r\n  /**\r\n   * 隐藏Modal(模态)框\r\n   */\r\n  handleOk = () => {\r\n    this.setState({\r\n      visible: false\r\n    })\r\n  }\r\n  /**\r\n   * 显示Modal(模态)框\r\n   */\r\n  showModal = () => {\r\n    this.setState({\r\n      visible: true\r\n    })\r\n  }\r\n    search = () =>{\r\n    if (document.getElementById(\"search_input\").value != \"\") {\r\n      window.open (\"https://www.baidu.com/s?wd=\" + \"site:cnodejs.org \" +document.getElementById(\"search_input\").value);\r\n      document.getElementById(\"search_input\").value = \"\";\r\n    }\r\n    return false;\r\n  }//搜索跳转百度\r\n\r\n   onKeyPress = (e) => {\r\n    var keyCode = null;\r\n\r\n    if(e.which)\r\n      keyCode = e.which;\r\n    else if(e.keyCode)\r\n      keyCode = e.keyCode;\r\n\r\n    if(keyCode == 13) {\r\n      this.search();\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div styleName=\"header\">\r\n        <div>\r\n          <a href=\"/\">\r\n            <img\r\n              src={require('@src/assets/image/cnodejs.svg')}\r\n              alt=\"网站logo\"\r\n            />\r\n          </a>\r\n          <a >\r\n          <form onSubmit={this.search} className=\"search-box\">\r\n            <input autoFocus id=\"search_input\" className=\"search-txt\" type=\"text\" autoComplete=\"off\"\r\n                   placeholder=\"Type to search\"  οnkeypress={this.onKeyPress(Event)}/>\r\n          </form>\r\n          </a>\r\n          <a>\r\n            <span className=\"search-btn\" onClick={this.search} >\r\n              搜索\r\n            </span>\r\n          </a>\r\n\r\n          <span onClick={this.showModal} className=\"about\">关于</span>\r\n\r\n        </div>\r\n        <Modal\r\n          title=\"关于本项目\"\r\n          visible={this.state.visible}\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleOk}\r\n        >\r\n          {/* P.S. 当使用_blank时有一个容易忽略的安全漏洞，需要注意：https://developers.google.com/web/tools/lighthouse/audits/noopener?hl=zh-cn */}\r\n          <p>\r\n            作者：\r\n            <a\r\n              href=\"https://github.com/panningzhi\"\r\n              target=\"_blank\"\r\n              rel=\"nofollow noopener noreferrer\"\r\n            >\r\n              盘凝知\r\n            </a>\r\n            <a> / </a>\r\n            <a\r\n                href=\"https://github.com/lingwu-hb\"\r\n                target=\"_blank\"\r\n                rel=\"nofollow noopener noreferrer\">\r\n              韩博\r\n            </a>\r\n            <a> / </a>\r\n            <a\r\n                href=\"https://github.com/ChenZhe0\"\r\n                target=\"_blank\"\r\n                rel=\"nofollow noopener noreferrer\">\r\n              陈哲\r\n            </a>\r\n          </p>\r\n          <p>\r\n            源码：\r\n            <Icon type=\"star\" theme=\"twoTone\" twoToneColor=\"#eb2f96\" />\r\n            <a\r\n              href=\"https://github.com/lingwu-hb/CnodeSimulate\"\r\n              target=\"_blank\"\r\n              rel=\"nofollow noopener noreferrer\"\r\n            >\r\n              CnodeSimulate\r\n            </a>\r\n            <Icon type=\"star\" theme=\"twoTone\" twoToneColor=\"#eb2f96\" />\r\n            &nbsp;欢迎Star~&nbsp;\r\n            <Icon type=\"star\" theme=\"twoTone\" twoToneColor=\"#eb2f96\" />\r\n          </p>\r\n          <div>\r\n            <p>技术栈：</p>\r\n            <ul>\r\n              <li>React</li>\r\n              <li>React Router</li>\r\n              <li>Ant Design</li>\r\n              <li>Axios</li>\r\n              <li>CnodeJS API</li>\r\n            </ul>\r\n          </div>\r\n        </Modal>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CSSModules(Header, style)\r\n","import axios from 'axios'\r\nimport { message } from 'antd'\r\n\r\n/**\r\n * 封装axios，实现发送/响应接口的拦截，来实现统一提示等效果\r\n */\r\n\r\nconst error = () => {\r\n  message.error('数据加载失败！', 1)\r\n}\r\n\r\nconst service = axios.create({\r\n  baseURL: 'https://cnodejs.org/api/v1',\r\n  timeout: 5000 // 请求超时时间限制\r\n})\r\n\r\n// 请求拦截器\r\nservice.interceptors.request.use(\r\n  config => {\r\n    return config\r\n  },\r\n  err => {\r\n    error()\r\n    Promise.reject(err)\r\n  }\r\n)\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(\r\n  response => {\r\n    return response.data\r\n  },\r\n  err => {\r\n    error()\r\n    return Promise.reject(err)\r\n  }\r\n)\r\n\r\nexport default service\r\n","/**\r\n * 帖子的tab字典，因为有好几个地方都要用到，所以单独提取出来\r\n */\r\nexport default {\r\n  good: {\r\n    name: '精华',\r\n    color: 'magenta'\r\n  },\r\n  job: {\r\n    name: '招聘',\r\n    color: 'blue'\r\n  },\r\n  ask: {\r\n    name: '问答',\r\n    color: 'geekblue'\r\n  },\r\n  share: {\r\n    name: '分享',\r\n    color: 'green'\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Tag } from 'antd'\r\nimport moment from 'moment'\r\nimport style from './Index.module.scss'\r\nimport CSSModules from 'react-css-modules'\r\nimport tab from '@src/utils/tab'\r\nimport { Skeleton } from 'antd'\r\n\r\n/**\r\n * 首页帖子列表组件\r\n */\r\nclass Topics extends Component {\r\n  render() {\r\n    // 在没有数据时，展示骨架图\r\n    if (this.props.list.length === 0) {\r\n      return <Skeleton active />\r\n    }\r\n\r\n    const items = this.props.list.map(item => {\r\n        if(!item.author.loginname){\r\n           return null\r\n        }\r\n      return (\r\n        <div styleName=\"topic\" key={item.id}>\r\n          <Link to={'/user/' + item.author.loginname}>\r\n            <img src={item.author.avatar_url} alt=\"用户头像\" />\r\n          </Link>\r\n          <span styleName=\"count\">\r\n            <em>{item.reply_count}</em>/<em>{item.visit_count}</em>\r\n          </span>\r\n          <Tag color={tab[item.tab] && tab[item.tab].color}>\r\n            {tab[item.tab] && tab[item.tab].name}\r\n          </Tag>\r\n          <Link styleName=\"title\" to={'/topic/' + item.id}>\r\n            {item.title}\r\n          </Link>\r\n          <span styleName=\"time\">\r\n            {moment(item.last_reply_at, 'YYYY-MM-DD')\r\n              .startOf('day')\r\n              .fromNow()}\r\n          </span>\r\n        </div>\r\n      )\r\n    })\r\n\r\n    return <div>{items}</div>\r\n  }\r\n}\r\n\r\nexport default CSSModules(Topics, style)\r\n","import React, { Component } from 'react'\r\nimport { getTopics } from '@src/utils/api'\r\nimport Topics from '@src/components/Topics/Index'\r\nimport style from './Index.module.scss'\r\nimport CSSModules from 'react-css-modules'\r\nimport { Tabs, Spin } from 'antd'\r\n\r\nconst TabPane = Tabs.TabPane\r\n\r\n/**\r\n * 网站首页\r\n */\r\nclass Home extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      page: 1,\r\n      limit: 20,\r\n      list: [],\r\n      store: {}, // 存储所有Tab对应的数据，因为切换Tab后就没必要重新以limit:20加载数据。\r\n      tab: 'all' // 当前Tab，声明在全局变量里是为了滚动时相关函数也可以获取的到\r\n    }\r\n  }\r\n  /**\r\n   * 1. 调用接口获取数据\r\n   * 2. 绑定窗口滚动监听函数\r\n   * P.S. 一般在此钩子下面调用接口或者类似操作\r\n   */\r\n  componentDidMount() {\r\n    this.getTopics()\r\n    window.addEventListener('scroll', this.scrollMethod)\r\n  }\r\n  /**\r\n   * 组件被销毁时，记得移除绑定的滚动事件\r\n   */\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.scrollMethod)\r\n  }\r\n  /**\r\n   * 封装好的获取首页数据的函数，这样就不需要每次使用都copy一遍代码了\r\n   */\r\n  getTopics() {\r\n    const state = this.state\r\n    getTopics({\r\n      page: state.page,\r\n      limit: state.limit,\r\n      tab: state.tab\r\n    }).then(res => {\r\n      const store = state.store\r\n\r\n      this.setState({\r\n        list: res.data,\r\n        limit: this.state.limit + 10\r\n      })\r\n      // 将数据存储到对应的key下\r\n      store[state.tab] = {\r\n        limit: state.limit,\r\n        data: res.data\r\n      }\r\n    })\r\n  }\r\n  /**\r\n   * 滚动函数，判断当前滚动条是否到了底部来决定是否重新拉取数据\r\n   */\r\n  scrollMethod = () => {\r\n    const sumH =\r\n      document.body.scrollHeight || document.documentElement.scrollHeight\r\n    const viewH = document.documentElement.clientHeight\r\n    const scrollH =\r\n      document.body.scrollTop || document.documentElement.scrollTop\r\n    if (viewH + scrollH + 50 >= sumH) {\r\n      this.getTopics()\r\n    }\r\n  }\r\n  /**\r\n   * 当前Tab变化时判断Store里是否已经存储数据。\r\n   * 是：拉出来，设置到state中\r\n   * 否：重新获取数据\r\n   * 这里使用箭头函数而不是上面的那种方式，是为了解决this问题\r\n   * 详情看：https://react.docschina.org/docs/react-without-es6.html#%E8%87%AA%E5%8A%A8%E7%BB%91%E5%AE%9A\r\n   * （或者自行Google）\r\n   */\r\n  tabChanged = tab => {\r\n    const store = this.state.store\r\n\r\n    // 如果未存储当前Tab的数据，重新获取\r\n    if (!store[tab]) {\r\n      this.setState(\r\n        {\r\n          tab,\r\n          limit: 20,\r\n          list: []\r\n        },\r\n        () => {\r\n          this.getTopics()\r\n        }\r\n      )\r\n      return\r\n    }\r\n\r\n    this.setState({\r\n      tab,\r\n      limit: store[tab].limit,\r\n      list: store[tab].data\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <div styleName=\"home\">\r\n        <Spin spinning={false}>\r\n          <div>\r\n            <Tabs defaultActiveKey=\"\" onChange={this.tabChanged}>\r\n              <TabPane tab=\"全部\" key=\"all\">\r\n                <Topics list={this.state.list} />\r\n              </TabPane>\r\n              <TabPane tab=\"精华\" key=\"good\">\r\n                <Topics list={this.state.list} />\r\n              </TabPane>\r\n              <TabPane tab=\"分享\" key=\"share\">\r\n                <Topics list={this.state.list} />\r\n              </TabPane>\r\n              <TabPane tab=\"问答\" key=\"ask\">\r\n                <Topics list={this.state.list} />\r\n              </TabPane>\r\n              <TabPane tab=\"工作\" key=\"job\">\r\n                <Topics list={this.state.list} />\r\n              </TabPane>\r\n            </Tabs>\r\n          </div>\r\n        </Spin>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CSSModules(Home, style)\r\n","import request from '@src/utils/request'\r\n\r\n// 获取首页帖子列表数据\r\nexport const getTopics = data => {\r\n  return request({\r\n    url: '/topics',\r\n    method: 'get',\r\n    params: data\r\n  })\r\n}\r\n\r\n// 获取帖子详情数据\r\nexport const getTopicById = id => {\r\n  return request({\r\n    url: `/topic/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 获取用户详情数据\r\nexport const getUserByName = loginname => {\r\n  return request({\r\n    url: `/user/${loginname}`,\r\n    method: 'get'\r\n  })\r\n}\r\n//验证accessToken\r\nexport const accessMatch = accesstoken =>{\r\n  return request({\r\n    url:`/accesstoken`,\r\n    method: 'post',\r\n  })\r\n}\r\n\r\n//为评论点赞\r\nexport const upvoteComments = reply_id =>{\r\n  return request(\r\n      {\r\n        url:`/reply/${reply_id}/ups`,\r\n        method: 'post'\r\n      }\r\n  )\r\n}","/**\r\n * 一个发布-订阅模式的实现\r\n * 用来解决两个任意组件间的数据传递（一般是非父子组件，因为父子组件用props更好）\r\n **/\r\nconst eventProxy = {\r\n  onObj: {},\r\n  oneObj: {},\r\n  on: function(key, fn) {\r\n    if (this.onObj[key] === undefined) {\r\n      this.onObj[key] = []\r\n    }\r\n\r\n    this.onObj[key].push(fn)\r\n  },\r\n  one: function(key, fn) {\r\n    if (this.oneObj[key] === undefined) {\r\n      this.oneObj[key] = []\r\n    }\r\n\r\n    this.oneObj[key].push(fn)\r\n  },\r\n  off: function(key) {\r\n    this.onObj[key] = []\r\n    this.oneObj[key] = []\r\n  },\r\n  trigger: function() {\r\n    let key, args\r\n    if (arguments.length === 0) {\r\n      return false\r\n    }\r\n    key = arguments[0]\r\n    args = [].concat(Array.prototype.slice.call(arguments, 1))\r\n\r\n    if (this.onObj[key] !== undefined && this.onObj[key].length > 0) {\r\n      for (let i in this.onObj[key]) {\r\n        this.onObj[key][i].apply(null, args)\r\n      }\r\n    }\r\n    if (this.oneObj[key] !== undefined && this.oneObj[key].length > 0) {\r\n      for (let i in this.oneObj[key]) {\r\n        this.oneObj[key][i].apply(null, args)\r\n        this.oneObj[key][i] = undefined\r\n      }\r\n      this.oneObj[key] = []\r\n    }\r\n  }\r\n}\r\n\r\nexport default eventProxy\r\n","import React, { Component } from 'react'\r\nimport style from './Index.module.scss'\r\nimport CSSModules from 'react-css-modules'\r\nimport { getUserByName } from '@src/utils/api'\r\nimport { Link } from 'react-router-dom'\r\nimport eventProxy from '@src/utils/eventProxy'\r\nimport moment from 'moment'\r\nimport { Skeleton } from 'antd'\r\n\r\n/**\r\n * 帖子页面右侧最上方的个人信息展示组件\r\n */\r\nclass ProfilePanel extends Component {\r\n  /**\r\n   * state有两种初始化方法，这是其中一种\r\n   * 另外一种见：header/index.js文件\r\n   */\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      user: {}\r\n    }\r\n  }\r\n  /**\r\n   * 调用接口获取数据\r\n   * P.S. 一般在此钩子下面调用接口或者类似操作\r\n   */\r\n  componentDidMount() {\r\n    this.fetchData(this.props.loginname)\r\n  }\r\n  /**\r\n   * 在当前路由状态变化后触发的钩子函数\r\n   * P.S. 这个函数一般用来解决，路由发生了变化，但组件因为没有被销毁所以不会再一次触发‘componentDidMount’钩子，\r\n   * 这时候就可以在当前钩子下重新获取数据\r\n   * @param {Object} nextProps props对象\r\n   */\r\n  componentWillReceiveProps(nextProps) {\r\n    this.fetchData(nextProps.loginname)\r\n  }\r\n  /**\r\n   * 封装好的获取数据的函数，这样就不需要每次使用都copy一遍代码了\r\n   */\r\n  fetchData(loginname) {\r\n    getUserByName(loginname).then(res => {\r\n      this.setState({\r\n        user: res.data\r\n      })\r\n      eventProxy.trigger('user', res.data)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    // 在没有数据时，展示骨架图\r\n    if (!this.state.user.loginname) {\r\n      return <Skeleton active />\r\n    }\r\n    return (\r\n      <div styleName=\"panel\">\r\n        <Link styleName=\"user\" to={'/user/' + this.state.user.loginname}>\r\n          <img src={this.state.user.avatar_url} alt=\"用户头像\" />\r\n          <span>{this.state.user.loginname}</span>\r\n        </Link>\r\n        <div>积分：{this.state.user.score}</div>\r\n        <div>\r\n          Github：\r\n          <a\r\n            href={'https://github.com/' + this.state.user.githubUsername}\r\n            target=\"_blank\"\r\n            rel=\"nofollow noopener noreferrer\"\r\n          >\r\n            {this.state.user.githubUsername}\r\n          </a>\r\n        </div>\r\n        <div>\r\n          注册时间：\r\n          {moment(this.state.user.create_at, 'YYYY-MM-DD')\r\n            .startOf('day')\r\n            .fromNow()}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CSSModules(ProfilePanel, style)\r\n","import React, { Component } from 'react'\r\nimport style from './Index.module.scss'\r\nimport CSSModules from 'react-css-modules'\r\nimport { Link } from 'react-router-dom'\r\nimport eventProxy from '@src/utils/eventProxy'\r\nimport { Divider } from 'antd'\r\nimport moment from 'moment'\r\n\r\n/**\r\n * 帖子页面右侧最中间的的发贴者的其他帖子组件\r\n */\r\nclass OtherTopic extends Component {\r\n  /**\r\n   * 设置props的默认值\r\n   */\r\n  static defaultProps = {\r\n    simple: true // 是否展示简单模式？\r\n  }\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      user: {}\r\n    }\r\n  }\r\n  /**\r\n   * 监听'user'，将被传入的数据设置到当前组件state中\r\n   * P.S. 一般在此钩子下面调用接口或者类似操作\r\n   */\r\n  componentDidMount() {\r\n    // 增加属性，表示当前实例未被卸载\r\n    this.isUnmounted = false\r\n    eventProxy.on('user', data => {\r\n      // 如果当前实例被卸载了，就没有必要更新其state了（会引起内存泄漏）\r\n      if (!this.isUnmounted) {\r\n        this.setState({\r\n          user: data\r\n        })\r\n      }\r\n    })\r\n  }\r\n  /**\r\n   * 给this增加属性，表示当前实例已被卸载\r\n   */\r\n  componentWillUnmount() {\r\n    this.isUnmounted = true\r\n  }\r\n\r\n  render() {\r\n    // 增加空值判断\r\n    if (!this.state.user.recent_topics) {\r\n      return <div />\r\n    }\r\n\r\n    const items = this.state.user.recent_topics.map(item => {\r\n      let temp = <Link to={'/topic/' + item.id}>{item.title}</Link>\r\n      // 如果不展示简单模式的话，就需要将用户头像等信息展示出来\r\n      if (!this.props.simple) {\r\n        temp = (\r\n          <div>\r\n            <Link styleName=\"avatar\" to={'/user/' + item.author.loginname}>\r\n              <img src={item.author && item.author.avatar_url} alt=\"头像\" />\r\n            </Link>\r\n            <Link key={item.id} to={'/topic/' + item.id}>\r\n              {item.title}\r\n            </Link>\r\n            <span styleName=\"time\">\r\n              {moment(item.last_reply_at, 'YYYY-MM-DD')\r\n                .startOf('day')\r\n                .fromNow()}\r\n            </span>\r\n            <Divider styleName=\"inside-divider\" />\r\n          </div>\r\n        )\r\n      }\r\n      return <div key={item.id}>{temp}</div>\r\n    })\r\n    return (\r\n      <div styleName=\"panel\">\r\n        <header>最近创建的话题</header>\r\n        <Divider styleName=\"divider\" />\r\n        {items}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CSSModules(OtherTopic, style)\r\n","import React, { Component } from 'react'\r\nimport style from './Index.module.scss'\r\nimport CSSModules from 'react-css-modules'\r\nimport { Link } from 'react-router-dom'\r\nimport eventProxy from '@src/utils/eventProxy'\r\nimport { Divider } from 'antd'\r\nimport moment from 'moment'\r\n\r\nclass RecentReply extends Component {\r\n  /**\r\n   * 设置props的默认值\r\n   */\r\n  static defaultProps = {\r\n    simple: true // 是否展示简单模式？\r\n  }\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      user: {}\r\n    }\r\n  }\r\n  /**\r\n   * 监听'user'，将被传入的数据设置到当前组件state中\r\n   * P.S. 一般在此钩子下面调用接口或者类似操作\r\n   */\r\n  componentDidMount() {\r\n    // 增加属性，表示当前实例未被卸载\r\n    this.isUnmounted = false\r\n    eventProxy.on('user', data => {\r\n      // 如果当前实例被卸载了，就没有必要更新其state了（会引起内存泄漏）\r\n      if (!this.isUnmounted) {\r\n        this.setState({\r\n          user: data\r\n        })\r\n      }\r\n    })\r\n  }\r\n  /**\r\n   * 给this增加属性，表示当前实例已被卸载\r\n   */\r\n  componentWillUnmount() {\r\n    this.isUnmounted = true\r\n  }\r\n\r\n  render() {\r\n    // 增加空值判断\r\n    if (!this.state.user.recent_replies) {\r\n      return <div />\r\n    }\r\n\r\n    const items = this.state.user.recent_replies.map(item => {\r\n      let temp = (\r\n        <Link key={item.id} to={'/topic/' + item.id}>\r\n          {item.title}\r\n        </Link>\r\n      )\r\n      // 如果不展示简单模式的话，就需要将用户头像等信息展示出来\r\n      if (!this.props.simple) {\r\n        temp = (\r\n          <div>\r\n            <Link styleName=\"avatar\" to={'/user/' + item.author.loginname}>\r\n              <img src={item.author && item.author.avatar_url} alt=\"头像\" />\r\n            </Link>\r\n            <Link key={item.id} to={'/topic/' + item.id}>\r\n              {item.title}\r\n            </Link>\r\n            <span styleName=\"time\">\r\n              {moment(item.last_reply_at, 'YYYY-MM-DD')\r\n                .startOf('day')\r\n                .fromNow()}\r\n            </span>\r\n            <Divider styleName=\"inside-divider\" />\r\n          </div>\r\n        )\r\n      }\r\n      return <div key={item.id}>{temp}</div>\r\n    })\r\n    return (\r\n      <div styleName=\"panel\">\r\n        <header>最近参与的话题</header>\r\n        <Divider styleName=\"divider\" />\r\n        {items}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CSSModules(RecentReply, style)\r\n","import React, { Component } from 'react'\r\nimport style from './Index.module.scss'\r\nimport CSSModules from 'react-css-modules'\r\nimport ProfilePanel from '@src/components/ProfilePanel/Index'\r\nimport OtherTopic from '@src/components/OtherTopic/Index'\r\nimport RecentReply from '@src/components/RecentReply/Index'\r\n\r\nclass Profile extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      loginname: ''\r\n    }\r\n  }\r\n  /**\r\n   * 1. 调用接口获取数据\r\n   * 2. 绑定窗口滚动监听函数\r\n   */\r\n  componentWillMount() {\r\n    this.setState({\r\n      loginname: this.props.match.params.id\r\n    })\r\n  }\r\n  /**\r\n   * 在当前路由状态变化后触发的钩子函数\r\n   * 这时候就可以在当前钩子下重新获取数据\r\n   * @param {Object} nextProps props对象\r\n   */\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      loginname: nextProps.match.params.id\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <div styleName=\"user\">\r\n        <ProfilePanel loginname={this.state.loginname} />\r\n        <OtherTopic simple={false} />\r\n        <RecentReply simple={false} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CSSModules(Profile, style)\r\n","import React, { Component } from 'react'\r\nimport style from './Index.module.scss'\r\nimport CSSModules from 'react-css-modules'\r\nimport moment from 'moment'\r\nimport { Link } from 'react-router-dom'\r\nimport {report} from \"bfj/src/memory\";\r\n\r\n/**\r\n * 帖子回复组件\r\n */\r\nclass ProfilePanel extends Component {\r\n  /**\r\n   * 将html内容包裹在对象中，key必须是'__html'\r\n   * 详情见：https://react.docschina.org/docs/dom-elements.html#dangerouslysetinnerhtml%E5%87%BD%E6%95%B0\r\n   * @param {String} html html字符串\r\n   */\r\n  getHTML(html) {\r\n    return {\r\n      __html: html\r\n    }\r\n  }\r\n  /*\r\n  点赞动作\r\n  */\r\n\r\n\r\n  /**\r\n   * 根据点赞人数是否为零来返回不同的html文件。毕竟不需要把 0赞 展示出来\r\n   * @param {Number} length 点赞人数\r\n   */\r\n  getThumbs(length) {\r\n    return (\r\n      <span styleName=\"thumbs\" >\r\n        <img   src={require('@src/assets/image/thumbs-up.svg')} alt=\"点赞\" />\r\n        {length}\r\n      </span>\r\n    )\r\n  }\r\n  render() {\r\n    const data = this.props.data.map((reply, index) => {\r\n      return (\r\n        <div key={reply.id}>\r\n          <Link to={'/user/' + reply.author.loginname}>\r\n            <img src={reply.author && reply.author.avatar_url} alt=\"头像\" />\r\n          </Link>\r\n          <div>\r\n            <div styleName=\"info\">\r\n              <p>\r\n                <span>{index + 1}楼&nbsp;</span>\r\n                <Link to={'/user/' + reply.author.loginname}>\r\n                  {reply.author.loginname}\r\n                </Link>\r\n                <span>\r\n                  &nbsp;\r\n                  {moment(reply.create_at, 'YYYY-MM-DD')\r\n                    .startOf('day')\r\n                    .fromNow()}\r\n                </span>\r\n              </p>\r\n              {this.getThumbs(reply.ups.length)}\r\n            </div>\r\n            <p dangerouslySetInnerHTML={this.getHTML(reply.content)} />\r\n          </div>\r\n        </div>\r\n      )\r\n    })\r\n    // 在最前面插入一行React元素，来展示一共有多少条回复信息\r\n    data.unshift(\r\n      <div key={1}>\r\n        <span>{this.props.data.length}</span>&nbsp;回复\r\n      </div>\r\n    )\r\n\r\n    return <div styleName=\"reply\">{data}</div>\r\n  }\r\n}\r\n\r\nexport default CSSModules(ProfilePanel, style)\r\n","import React, { Component } from 'react'\r\nimport { getTopicById } from '@src/utils/api'\r\nimport style from './Index.module.scss'\r\nimport CSSModules from 'react-css-modules'\r\nimport ProfilePanel from '@src/components/ProfilePanel/Index'\r\nimport OtherTopic from '@src/components/OtherTopic/Index'\r\nimport RecentReply from '@src/components/RecentReply/Index'\r\nimport Reply from '@src/components/Reply/Index'\r\nimport '@src/assets/vue.css'\r\nimport moment from 'moment'\r\nimport { Link } from 'react-router-dom'\r\nimport tab from '@src/utils/tab'\r\nimport { Divider, Skeleton } from 'antd'\r\n\r\nclass Topic extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      topic: {}\r\n    }\r\n  }\r\n  /**\r\n   * 调用接口获取数据\r\n   * P.S. 一般在此钩子下面调用接口或者类似操作\r\n   */\r\n  componentDidMount() {\r\n    this.fetchData(this.props.match.params.id)\r\n  }\r\n  /**\r\n   * 在当前路由状态变化后触发的钩子函数\r\n   * 这时候就可以在当前钩子下重新获取数据\r\n   * @param {Object} nextProps props对象\r\n   */\r\n  componentWillReceiveProps(nextProps) {\r\n    this.fetchData(nextProps.match.params.id)\r\n  }\r\n  /**\r\n   * 封装好的获取数据的函数，这样就不需要每次使用都copy一遍代码了\r\n   */\r\n  fetchData(id) {\r\n    getTopicById(id).then(res => {\r\n      this.setState({\r\n        topic: {\r\n          ...res.data,\r\n          ...res.data.author\r\n        }\r\n      })\r\n    })\r\n  }\r\n  /**\r\n   * 将html内容包裹在对象中，key必须是'__html'\r\n   * 详情见：https://react.docschina.org/docs/dom-elements.html#dangerouslysetinnerhtml%E5%87%BD%E6%95%B0\r\n   * @param {String} html html字符串\r\n   */\r\n  getHTML(html) {\r\n    return {\r\n      __html: html\r\n    }\r\n  }\r\n  render() {\r\n    // 在没有数据时，展示骨架图\r\n    if (!this.state.topic.id) {\r\n      return <Skeleton active />\r\n    }\r\n    return (\r\n      <div styleName=\"topic\">\r\n        <div styleName=\"left\">\r\n          <div\r\n            styleName=\"title\"\r\n            dangerouslySetInnerHTML={this.getHTML(this.state.topic.title)}\r\n          />\r\n          <div styleName=\"info\">\r\n            <span>\r\n              发布于&nbsp;\r\n              {moment(this.state.topic.create_at, 'YYYY-MM-DD')\r\n                .startOf('day')\r\n                .fromNow()}\r\n              &nbsp;•&nbsp;\r\n            </span>\r\n            作者：\r\n            <Link to={'/user/' + this.state.topic.loginname}>\r\n              {this.state.topic.loginname}\r\n            </Link>\r\n            &nbsp;•&nbsp;\r\n            <span>{this.state.topic.visit_count}次浏览&nbsp;•&nbsp;</span>\r\n            <span>\r\n              来自：\r\n              {tab[this.state.topic.tab] && tab[this.state.topic.tab].name}\r\n            </span>\r\n          </div>\r\n          <Divider />\r\n          <div\r\n            styleName=\"content\"\r\n            dangerouslySetInnerHTML={this.getHTML(this.state.topic.content)}\r\n          />\r\n          <Reply data={this.state.topic.replies} />\r\n        </div>\r\n        <div styleName=\"right\">\r\n          <ProfilePanel loginname={this.state.topic.loginname} />\r\n          <OtherTopic />\r\n          <RecentReply />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CSSModules(Topic, style)\r\n","import React, { Component } from 'react'\r\nimport { HashRouter, Route, Redirect } from 'react-router-dom'\r\nimport Header from './components/Header/Index'\r\nimport Home from './views/Home/Index'\r\nimport Profile from './views/Profile/Index'\r\nimport Topic from './views/Topic/Index'\r\nimport './App.scss'\r\n\r\n/**\r\n * 路由设置\r\n */\r\nclass App extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <HashRouter>\r\n                    <div className=\"box\">\r\n                        <Route exact path=\"/\" component={Home} />\r\n                        <Route path=\"/topic/:id\" component={Topic} />\r\n                        <Route path=\"/user/:id\" component={Profile} />\r\n                        <Route exact path=\"/topic\" render={() => <Redirect to=\"/\" />} />\r\n                        <Route exact path=\"/user\" render={() => <Redirect to=\"/\" />} />\r\n                    </div>\r\n                </HashRouter>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport 'antd/dist/antd.css'\r\nimport App from './App'\r\nimport { ConfigProvider } from 'antd'\r\n// 由于 antd 组件的默认文案是英文，所以需要修改为中文\r\nimport zhCN from 'antd/lib/locale-provider/zh_CN'\r\nimport moment from 'moment'\r\nimport 'moment/locale/zh-cn'\r\n\r\nmoment.locale('zh-cn')\r\n\r\nReactDOM.render(\r\n    <ConfigProvider locale={zhCN}>\r\n        <App />\r\n    </ConfigProvider>,\r\n    document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}